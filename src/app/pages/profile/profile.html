<app-navbar></app-navbar>

<section class="profile-page container py-5">
  <div class="profile-card shadow-sm mx-auto p-4 mb-5">
    <div class="d-flex flex-column flex-md-row align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        <div class="avatar">
          <i class="bi bi-person-circle"></i>
        </div>
        <div>
          <h4 class="fw-bold mb-1 gradient-text">{{ userName || 'Guest User' }}</h4>
          <p class="text-muted mb-0">
            <i class="bi bi-envelope"></i> {{ userEmail || 'Not logged in' }}
          </p>
          <p class="text-muted small mb-0" *ngIf="userPhone">
            <i class="bi bi-telephone"></i> {{ userPhone }}
          </p>
        </div>
      </div>

      <button class="btn btn-outline fw-semibold mt-3 mt-md-0" (click)="logout()">
        <i class="bi bi-box-arrow-right"></i> Logout
      </button>
    </div>
  </div>

  <div class="text-center mb-4">
    <h3 class="fw-bold gradient-text">My Orders</h3>
    <div class="line mx-auto mb-4"></div>
  </div>

  <div *ngIf="hasOrders; else noOrders">
    <div *ngFor="let order of orders()" class="order-card shadow-sm p-4 mb-4">
      <div class="d-flex justify-content-between flex-wrap mb-3">
        <h6 class="text-primary fw-semibold mb-2">üìÖ {{ order.date }}</h6>
        <span class="badge bg-gradient">Total: ${{ order.total }}</span>
      </div>

      <ul class="list-unstyled mb-0">
        <li *ngFor="let i of order.items" class="d-flex justify-content-between border-bottom py-2">
          <span>{{ i.title }}</span>
          <span class="text-muted">{{ i.qty }} √ó ${{ i.price }}</span>
        </li>
      </ul>
    </div>
  </div>

  <ng-template #noOrders>
    <div class="text-center py-5">
      <i class="bi bi-box-seam fs-1 text-primary mb-3"></i>
      <p class="text-muted fs-5 mb-3">You have no orders yet üõç</p>
      <a routerLink="/allproducts" class="btn btn-primary px-4 py-2">Shop Now</a>
    </div>
  </ng-template>
</section>

<app-footer></app-footer>
